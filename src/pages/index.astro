---
//First I wrote .pages.yml, then I wrote tsconfig.json in a way that matched it
//here, I import the collection I created in the tsconfig.json
import { getCollection } from "astro:content";
const blogPosts = await getCollection("posts");
const publishedPosts = blogPosts.filter((post) => !post.data.draft);
import Layout from '../layouts/Layout.astro';

---

<Layout>





  <h1>Blog Posts</h1>
  <ul>
    {publishedPosts.map((post) => (
      <li key={post.id}>
        <a href={`/blog/${post.slug ?? post.id}`}>
          <h2>{post.data.title}</h2>
        </a>
        <p>{post.data.pubDatetime}</p>
        <p>{post.data.description}</p>
      </li>
    ))}
  </ul>

</Layout>
